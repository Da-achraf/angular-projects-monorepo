<div class="mx-auto max-w-[80rem] p-10">
  <ba-generic-table
    [data]="store.entities()"
    [total]="store.total()"
    [columns]="columns()"
    [globalFilterFields]="globalFilterFields()"
    [loading]="store.isLoading()"
    [withCreate]="store.withIdeaCreate()"
    [withExport]="store.withIdeaExport()"
    [withEdit]="store.withIdeaEdit()"
    [withDelete]="store.withIdeaDelete()"
    [withViewDetail]="true"
    [withReview]="store.withIdeaReview()"
    (page)="store.setPage($event)"
    (pageSize)="store.setPageSize($event)"
    (filter)="onFilter($event)"
    (create)="onCreate()"
    (edit)="onEdit($event)"
    (delete)="store.showDeleteIdeaDialog($event)"
    (search)="store.setQueryParams({ search: $event })"
    (view)="onView($event)"
    (review)="onReview($event)">
    <ng-template #sumbitterTemplate let-idea>
      <div class="flex items-center gap-x-2">
        <span
          >{{ idea.submitter?.first_name | titlecase }}
          {{ idea.submitter?.last_name | titlecase }}</span
        >
      </div>
    </ng-template>

    <ng-template #statusTemplate let-idea>
      <ba-idea-status [status]="idea.status" />
    </ng-template>

    <ng-template #categoryTemplate let-idea>
      <span class="font-medium italic">{{ idea.category | titlecase }}</span>
    </ng-template>
  </ba-generic-table>
</div>
