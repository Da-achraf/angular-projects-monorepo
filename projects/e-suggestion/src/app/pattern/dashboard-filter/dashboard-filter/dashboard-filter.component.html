<ba-date-filter (filterChanged)="onDateFilter($event)" />

@if (otherFiltersAvailable()) {
  <p-divider />
  <h3
    class="text-nowrap text-sm font-semibold uppercase tracking-wide text-gray-700">
    other filters
  </h3>
}

<div class="mt-3 flex items-center gap-3">
  @if (plants(); as plants) {
    <p-floatlabel class="w-full" variant="in">
      <p-multiSelect
        id="by_plant"
        [options]="plants"
        [(ngModel)]="selectedPlants"
        optionLabel="name"
        [showToggleAll]="true"
        [showHeader]="true"
        styleClass="w-52"
        (onChange)="onPlantsChange()">
      </p-multiSelect>
      <label for="by_plants">Select Plant</label>
    </p-floatlabel>
  }

  @if (statuses(); as statuses) {
    <p-floatlabel class="w-full" variant="in">
      <p-multiSelect
        [options]="statuses"
        [(ngModel)]="selectedStatuses"
        [showToggleAll]="true"
        [showHeader]="true"
        styleClass="w-52"
        (onChange)="onStatusChange()">
        <ng-template let-status #item>
          <ba-idea-status [status]="status" />
        </ng-template>
      </p-multiSelect>
      <label for="by_status">Idea Status</label>
    </p-floatlabel>
  }
  @if (bus(); as bus) {
    <p-floatlabel class="w-full" variant="in">
      <p-multiSelect
        id="by_by"
        [options]="bus"
        [(ngModel)]="selectedBus"
        optionLabel="name"
        [showToggleAll]="true"
        [showHeader]="true"
        styleClass="w-52"
        (onChange)="onBusChange()">
      </p-multiSelect>
      <label for="by_by">Select BU</label>
    </p-floatlabel>
  }
</div>

<!-- Action Buttons -->
<div class="mt-2">
  <p-divider />
  <div class="mt-2 flex items-center justify-end gap-x-3">
    <ba-button
      label="Apply"
      icon="fa-filter"
      buttonClass="text-gray-50 bg-orange-400 !ring-primary-200 hover:bg-orange-500"
      (onClick)="applyFilters()" />
  </div>
</div>
